<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="cuW6P98=v!7f2{45^`TU">dataAnalog</variable><variable id="uYMmmA7u.eW2)T.3/6iX">dataPercent</variable></variables><comment x="0" y="0" w="270" h="120">
Giá trị Analog của cảm biến
</comment><comment x="0" y="0" w="240" h="120">
Giá trị (%) của cảm biến
</comment><block type="device_forever" x="10" y="10"><statement name="HANDLER"><block type="variables_set"><field name="VAR" id="cuW6P98=v!7f2{45^`TU">dataAnalog</field><comment pinned="false" h="80" w="160">Đọc giá trị Analog của cảm biến và đổi ra thang (%)</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_get_analog_pin"><value name="name"><shadow type="analog_read_write_pin_shadow"><field name="pin">AnalogReadWritePin.P0</field></shadow><block type="analog_pin"><field name="pin">AnalogPin.P0</field></block></value></block></value><next><block type="variables_set"><field name="VAR" id="uYMmmA7u.eW2)T.3/6iX">dataPercent</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_js_round"><field name="OP">round</field><value name="ARG0"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_map"><value name="value"><block type="variables_get"><field name="VAR" id="cuW6P98=v!7f2{45^`TU">dataAnalog</field></block></value><value name="fromLow"><shadow type="math_number"><field name="NUM">0</field></shadow></value><value name="fromHigh"><shadow type="math_number"><field name="NUM">1023</field></shadow></value><value name="toLow"><shadow type="math_number"><field name="NUM">100</field></shadow></value><value name="toHigh"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block></value></block></value><next><block type="lcd_displayText"><comment pinned="false" h="80" w="160">Cho hiển thị giá trị (%) của cảm biến trên LCD</comment><value name="text"><block type="text_join"><mutation items="2"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get"><field name="VAR" id="uYMmmA7u.eW2)T.3/6iX">dataPercent</field></block></value><value name="ADD1"><shadow type="text"><field name="TEXT">%  </field></shadow></value></block></value><value name="col"><shadow type="math_number_minmax"><mutation min="1" max="20" precision="0"></mutation><field name="SLIDER">3</field></shadow></value><value name="row"><shadow type="math_number_minmax"><mutation min="1" max="4" precision="0"></mutation><field name="SLIDER">2</field></shadow></value><next><block type="serial_writeline"><comment pinned="false" h="80" w="160">Gửi giá trị (%) của cảm biến lên Serial</comment><value name="text"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get"><field name="VAR" id="uYMmmA7u.eW2)T.3/6iX">dataPercent</field></block></value><next><block type="device_pause"><comment pinned="false" h="80" w="160">Dừng 0.5s</comment><value name="pause"><shadow type="timePicker"><field name="ms">500</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block><block type="pxt-on-start" x="10" y="10"><statement name="HANDLER"><block type="serial_setbaudrate"><field name="rate">BaudRate.BaudRate115200</field><comment pinned="false" h="80" w="160">Bật cổng Serial</comment><next><block type="lcd_clearScreen"><comment pinned="false" h="80" w="160">Xóa toàn bộ nội dung trên LCD (nếu có)</comment><next><block type="lcd_displayText"><comment pinned="false" h="80" w="160">Cho hiển thị tiêu đề trước</comment><value name="text"><shadow type="text"><field name="TEXT">Soil Moisture</field></shadow></value><value name="col"><shadow type="math_number_minmax"><mutation min="1" max="20" precision="0"></mutation><field name="SLIDER">1</field></shadow></value><value name="row"><shadow type="math_number_minmax"><mutation min="1" max="4" precision="0"></mutation><field name="SLIDER">1</field></shadow></value><next><block type="lcd_displayText"><value name="text"><block type="lcd_displaySymbol"><field name="sym">lcd.Symbols.sym02</field></block></value><value name="col"><shadow type="math_number_minmax"><mutation min="1" max="20" precision="0"></mutation><field name="SLIDER">1</field></shadow></value><value name="row"><shadow type="math_number_minmax"><mutation min="1" max="4" precision="0"></mutation><field name="SLIDER">2</field></shadow></value></block></next></block></next></block></next></block></statement></block></xml>